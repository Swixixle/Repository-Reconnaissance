
# Database Migrations

## Migration Source of Truth

- **Tool:** Drizzle ORM (drizzle-kit CLI)
- **Configuration File:** `drizzle.config.ts`
- **Execution Script:** `npm run db:push`
- **Migration Artifacts:** Generated by drizzle-kit. The output directory is defined in `drizzle.config.ts`. No migration directory currently exists in the repository; it will be created on first migration generation.

---

## Local Workflow

### Generate Migration

No migration generation script is defined in `package.json`.

Migration generation must be performed using the drizzle-kit CLI as configured in `drizzle.config.ts`.

If drizzle-kit is installed locally:

```bash
npx drizzle-kit generate
```

(Confirm CLI availability before use.)

### Apply Migration Locally

```bash
npm run db:push
```

This executes:

```bash
drizzle-kit push
```

No automated database reset or rollback scripts are present.

---

## Migration Command

Migrations are applied using:

```bash
npm run db:push
```

This command pushes the current schema state to the database as configured in `drizzle.config.ts`.

No evidence of versioned migration enforcement or schema state tracking beyond drizzle-kit configuration is detected in this repository.

---

## Production Workflow

Deployment pipelines must explicitly invoke the migration command:

```bash
npm run db:push
```

There is:

* No automatic migration enforcement at application startup.
* No CI/CD enforcement detected in the repository.
* No schema version verification detected.

---

## Rollback Procedure

Rollback is not currently automated.

There is:

* No down-migration strategy detected.
* No rollback scripts.
* No reversible migration framework configured.

Database restoration requires restoring from backup.

---

## Operational Limitations

* Migrations are not automatically executed at application startup.
* Deployment processes must explicitly invoke `npm run db:push`.
* No schema version enforcement mechanism is implemented.
* No migration artifacts currently exist in the repository.
- No migration artifacts currently exist in the repository.
